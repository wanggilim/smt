[DEFAULT]
db_file = smt.db

[AOR]
table_name = aor_tbl
meta_keys = ["ProposalID","ProposalTitle","Category"]
request_keys = ["title"]
data_keys = ["aorID","InstrumentName",
             "InstrumentSpectralElement1","InstrumentSpectralElement2",
	     "InstrumentConfiguration",
             "order","TotalTime","Repeat",
             "ObsPlanConfig","ObsPlanMode",
             "ScanType","ScanCoordSys","ScanRate","ScanTime",
             "ScanAmplitudeEL","ScanAmplitudeXEL",
             "ChopType","NodType","ChopFreq",
             "ChopThrow","ChopAngle","ChopAngleCoordinate",
	     "NodType","NodThrow","NodAngle","NodAngleCoordinate","NodTime",
             "DitherPattern","DitherCoord","DitherScale"]
FORCAST_keys = {"DitherCoordinate":"DitherCoord","DitherOffset":"DitherScale",
                "ExpTimePerDither":"NodTime"}
FIFI_keys = ["PrimeArray","MapType","SourceType",
             "WavelengthBlue","BandwidthBlue","WavelengthRed","BandwidthRed",
	     "Redshift","RedshiftUnit","TimePerPoint","Dichroic",
	     "NumPtsRA","NumPtsDec",
	     "MapRefPos","RefRA","RefDec","ReferenceType",
	     "RAOffset","DecOffset","MapCenterOffsetRA","MapCenterOffsetDec",
	     "MapRotationAngle","deltaRaV","deltaDecW",
	     "MapPriority","ObservingPriority"]
GREAT_keys = ["ArrayRotationAngle","OnsPerLoad","OffsPerLoad","OffPosTrack",
              "ScanDirection","ScanDirectionVector","ScanDirectionVectorX",
	      "ScanDirectionVectorY","ScanOrderX","ScanOrderY",
	      "NumFillOTF","XMapNumBlocksX","XMapNumBlocksY",
	      "YMapNumBlocksX","YMapNumBlocksY",
	      "XMapScanLength","YMapScanLength",
              "Frequency","Frequency2","Frequency3","Frequency4","Frequency5",
	      "PrimaryFrequency","IDString","LinesPerOff","DesiredResolution",
	      "LinesPerLoad","TimePerPoint","ExpectedLinewidth","RepsPerLoad",
	      "MapRotationAngle","MapStepSizeRA","MapStepSizeDec","Velocity",
	      "ScanOrder","NumStepRA","NumStepDec","MapArea","MapPos",
	      "RAOffset","DecOffset","ReferenceType","RefName","RefRA","RefDec",
	      "TargetOffsetRA","TargetOffsetDec",
	      "MapCenterOffsetRA","MapCenterOffsetDec"]
extra_keys = ["PI","ObsBlkID","planID","target","RA","DEC","duration","ObsBlkComment","aornum","FILENAME","TIMESTAMP"]
data_units = {"Repeat":"int","TotalTime":"float","Repeat":"int",
              "ScanRate":"float","ScanTime":"float",
	      "ScanAmplitudeEL":"float","ScanAmplitudeXEL":"float",
              "ChopThrow":"float","ChopAngle":"float",
              "NodThrow":"float","NodAngle":"float","NodTime":"float",
              "DitherScale":"float","order":"int","TIMESTAMP":"float",
	      "aornum":"int",
	      "duration":"float",
	      "ChopFreq":"float",
	      "WavelengthBlue":"float","WavelengthRed":"float",
	      "BandwidthBlue":"float","BandwidthRed":"float",
	      "Redshift":"float","TimePerPoint":"float",
	      "NumPtsRA":"int","NumPtsDec":"int",
	      "RefRA":"float","RefDec":"float",
	      "RAOffset":"float","DecOffset":"float",
	      "MapCenterOffsetRA":"float","MapCenterOffsetDec":"float",
	      "MapRotationAngle":"float",
	      "NumStepRA":"int","NumStepDec":"int","Frequencey":"float",
	      "Frequency2":"float","Frequency3":"float","Frequency4":"float",
	      "Frequency5":"float","ScanOrder":"int","MapStepSizeRA":"float",
	      "MapStepSizeDec":"float","Velocity":"float","MapArea":"float",
	      "RefRA":"float","RefDec":"float","ArrayRotationAngle":"float",
	      "OffsPerLoad":"int","LinesPerOff":"int","LinesPerLoad":"int",
	      "ExpectedLinewidth":"float","DesiredResolution":"float",
	      "RepsPerLoad":"int"}
data_options = {"aorID":{"primary_key":true,"null":false,
                         "unique":true,"index":true},
		"ObsBlkID":{"index":true},
		"planID":{"index":true,"null":false},
		"FILENAME":{"index":true},
                "_ALL_":{"null":true}}
keys = %(data_keys)s + %(meta_keys)s + %(request_keys)s + %(FIFI_keys)s + %(GREAT_keys)s + %(extra_keys)s

[MIS]
table_name = mis_tbl
meta_keys = ["FlightPlan","Leg",
             "DepartureAirport","DepartureRunway",
	     "LegCount","Mach","DepartureTime","ObsTime","FltTime",
	     "ArrivalTime","ArrivalAirport",
	     "Sunset","SunsetAz","Sunrise","SunriseAz"]
data_keys = ["Name","Start","Duration","Alt",
             "ObsPlanID","ObsBlkID","Priority","ObsDur",
             "Target","RA","DEC","Equinox",
             "GuideStar","MoonAngle","MoonIllum",
             "Comment"]
data_attr = {"Elev":["start","end"],
             "ROF":["start","end"],
             "ROFRT":["start","end"],
             "THdg":["start","end"],
             "THdgRT":["start","end"]}
waypts_keys = ["UTC","MHdg","THdg","Latitude","Longitude","WindDirSpeed",
               "Temp","LST","Elev","ROF","ROFrt","LosWV","SunEl","SunHA"]
waypts_data_units = {"MHdg":"float","THdg":"float","Temp":"float",
                     "Elev":"float","ROF":"float","ROFrt":"float",
		     "LosWV":"float","SunEl":"float","SunHA":"float"}
legacy_map = {"Leg":"Leg","Name":"Target","Start":"Start","Duration":"Leg Dur",
              "Alt":"Alt.","ObsPlanID":"ObspID","ObsBlkID":"Blk",
	      "planID":"ObspID",
	      "Priority":"Priority","ObsDur":"Obs Dur","Target":"Target",
	      "RA":"RA","DEC":"Dec","Equinox":"Equinox","GuideStar":"FPI",
	      "MoonAngle":"Moon Angle","MoonIllum":"Moon Illum","Comment":"Comment"}
legacy_meta = {"DepartureAirport":"Airport","DepartureRunway":"Runway",
               "LegCount":"Legs","Mach":"Mach","DepartureTime":"Takeoff",
	       "ObsTime":"Obs Time","FltTime":"Flt Time",
	       "ArrivalTime":"Landing","ArrivalAirport":"Airport2",
	       "Sunset":"Sunset","SunsetAz":"Sunset Az","Sunrise":"Sunrise",
	       "SunriseAz":"Sunset Az"}
extra_keys = ["fkey",
              "Series","FlightName","planID",
              "Elev_start","Elev_end",
              "ROF_start","ROF_end","ROFRT_start","ROFRT_end",
              "THdg_start","THdg_end","THdgRT_start","THdgRT_end",
              "FILENAME","WAYPTS","TIMESTAMP"]
data_units = {"Leg":"int","Elev_start":"float","Elev_end":"float",
              "ROF_start":"float","ROF_end":"float",
	      "ROFRT_start":"float","ROFRT_end":"float",
	      "MoonAngle":"float",
	      "THdg_start":"float","THdg_end":"float",
	      "THdgRT_start":"float","THdgRT_end":"float",
	      "planID":"foreign","ObsBlkID":"foreign",
	      "TIMESTAMP":"float","SunsetAz":"float","SunriseAz":"float",
	      "LegCount":"int","Mach":"float",
	      "DepartureTime":"datetime","ArrivalTime":"datetime",
	      "ObsTime":"time","FltTime":"time",
	      "Sunset":"time","Sunrise":"time"}
data_options = {"fkey":{"primary_key":true,"null":false,
                        "unique":true,"index":true},
                "FlightPlan":{"index":true,"null":false},
		"FlightName":{"index":true},
		"Series":{"index":true},
                "Leg":{"null":false},
		"FILENAME":{"index":true},
	        "ObsBlkID":{"index":true,"backref":"mis",
		            "model":"AOR","field":"ObsBlkID"},
		"planID":{"index":true,"backref":"mis",
		          "model":"AOR","field":"planID"},
                "_ALL_":{"null":true}}
keys = %(meta_keys)s + %(data_keys)s + %(extra_keys)s

[FAOR]
table_name = faor_tbl
meta_keys = ["FlightPlan","Leg","TARGET","RA","DEC","PMRA","PMDEC",
             "COORDSYS","EPOCH",
	     "SOURCETYPE","VMAG","VWAVE","IRFLUX","IRUNIT","IRWAVE",
             "Leg Dur","Obs Dur","Tot Dur","ROF"]
config_keys = ["AORID", "INSTMODE", "ORDER", "TOTALEXP", "CYCLES", "STYLE",
               "CHPTHROW", "CHPANG", "CHPCOORD",
	       "NODTHROW", "NODANG", "NODCOORD",
               "DITHER", "DITHCOORD",
	       "SWC", "LWC", "SLIT", "BORESITE", "IRSRCTYPE"]
run_keys = ["COMMENT", "config", "run", "NODDWELL", "REPEATS", "STOP",
            "loop","endloop","rewind"]
extra_keys = ["ckey","fkey","planID","FlightName","FILENAME","TIMESTAMP","DITHSCALE",
              "EFF","INTTIME","TREQ","FDUR","DURPERREW","TLOS","TLSPN",
	      "name","Mode","Obs Type","ROF","ROFrate","Dithers"]
data_units = {"Leg":"int","ORDER":"int","TOTALEXP":"float","CYCLES":"int",
              "CHPTHROW":"float","CHPANG":"float","NODTHROW":"float","NODANG":"float",
	      "RA":"float","DEC":"float","VMAG":"float","IRFLUX":"float",
	      "PMRA":"float","PMDEC":"float",
	      "loop":"int",
	      "DITHER":"int","Dithers":"int","DITHSCALE":"float",
	      "NODDWELL":"float","REPEATS":"int",
	      "fkey":"foreign","AORID":"foreign","planID":"foreign",
	      "Leg":"foreign","FlightPlan":"foreign",
	      "TIMESTAMP":"float","EFF":"float",
	      "INTTIME":"float","TREQ":"float","FDUR":"float",
	      "DURPERREW":"float","TLOS":"float"}
data_options = {"fkey":{"null":false,"index":true,
                        "backref":"faors","model":"MIS","field":"fkey"},
	        "ckey":{"primary_key":true,"null":false,
                        "unique":true,"index":true},
                "FlightPlan":{"index":true,"null":false,"backref":"faors",
		              "model":"MIS","field":"FlightPlan"},
      		"FlightName":{"index":true},
                "Leg":{"null":false,"index":true,"backref":"faors",
		       "model":"MIS","field":"Leg"},
		"FILENAME":{"index":true},
		"config":{"null":false},
		"run":{"null":false},
		"TARGET":{"index":true},
		"AORID":{"index":true,"null":false,"backref":"faors",
		         "model":"AOR","field":"aorID"},
		"planID":{"index":true,"null":false,"backref":"faors",
		         "model":"AOR","field":"planID"},
		"run":{"index":true,"null":false},
		"_ALL_":{"null":true}}
keys = %(extra_keys)s + %(meta_keys)s + %(config_keys)s + %(run_keys)s

[POS]
table_name = pos_tbl
data_keys = ["AORID","Target","ObjectType","InstrumentName","Configuration","Mode",
             "ChopAngleCoordinate","ChopThrow","ChopAngle",
	     "NodAngleCoordinate","NodThrow","NodAngle","DitherCoordinate",
	     "DitherPattern","DitherOffset"]
pos_keys = ["POSName","RA","DEC","Epoch","PMRA","PMDEC"]
extra_keys = ["pkey","FILENAME","planID","isNod"]
data_units = {"ChopThrow":"float","ChopAngle":"float",
              "NodThrow":"float","NodAngle":"float",
	      "PMRA":"float","PMDEC":"float",
	      "DitherOffset":"float","AORID":"foreign","isNod":"bool"}
data_options = {"AORID":{"index":true,"null":false,"backref":"pos",
                         "model":"AOR","field":"aorID"},
	        "pkey":{"index":true,"null":false,"primary_key":true,"unique":true},
		"planID":{"index":true},
	        "FILENAME":{"index":true},
		"Target":{"index":true,"null":false},
	        "_ALL_":{"null":true}}
keys = %(extra_keys)s + %(data_keys)s + %(pos_keys)s

[GUIDE]
table_name = guide_tbl
attr_keys = ["Imager","Catalog","Radius"]
data_keys = ["Name","RA","Dec","ProperMotionRA","ProperMotionDec","BminusV"]
mag_keys = ["Magnitude","Magnitude2"]
extra_keys = ["aorID","FILENAME","TIMESTAMP","target","planID","ObsBlkID","pkey"]
data_units = {"aorID":"foreign","target":"foreign","planID":"foreign",
              "Radius":"float","RA":"float","Dec":"float",
	      "ProperMotionRA":"float","ProperMotionDec":"float","ObsBlkID":"foreign",
	      "BminusV":"float","FILENAME":"foreign"}
data_options = {"aorID":{"index":true,"null":false,"backref":"guide",
                         "model":"AOR","field":"aorID"},
	        "planID":{"index":true,"null":false,"backref":"guide",
                         "model":"AOR","field":"planID"},
 	        "ObsBlkID":{"index":true,"null":true,"backref":"guide",
                            "model":"AOR","field":"ObsBlkID"},
	        "target":{"index":true,"null":false,"backref":"guide",
                         "model":"AOR","field":"target"},
       	        "FILENAME":{"index":true,"null":false,"backref":"guide",
                         "model":"AOR","field":"FILENAME"},
	        "Catalog":{"index":true},
	        "pkey":{"index":true,"null":false,"primary_key":true,"unique":true},
                "_ALL_":{"null":true}}
keys = %(data_keys)s + %(extra_keys)s + %(mag_keys)s + %(attr_keys)s

[GUIDE_OLD]
table_name = guide_tbl
data_keys = ["Catalog","Camera","Radius","Mags"]
pos_keys = ["GuidePOSName","RA","DEC","Epoch","PMRA","PMDEC"]
extra_keys = ["Target","AORID","FILENAME","pkey","planID","isGuide"]
data_units = {"AORID":"foreign","Target":"foreign",
	      "PMRA":"float","PMDEC":"float","isGuide":"bool"}
data_options = {"AORID":{"index":true,"null":false,"backref":"guide",
                         "model":"AOR","field":"aorID"},
	        "FILENAME":{"index":true},
                "planID":{"index":true},
		"Target":{"index":true,"null":false,"backref":"guide",
		          "model":"POS","field":"Target"},
	        "pkey":{"index":true,"null":false,"primary_key":true,"unique":true},
		"_ALL_":{"null":true}}
keys = %(extra_keys)s + %(data_keys)s + %(pos_keys)s

[AORSEARCH]
table_name = aorsearch_tbl
data_keys = ["AORID","ObsBlockID","FlightPlanIDs","MissionIDs","Target","RA(J2000)","Dec(J2000)","NAIF_ID","Instrument","InstConfig","Spectral1","Spectral2","Slit","ObsMode","Exposure","ReqDuration","DataCollectionTime","MinContigTime(minutes)","Processing","QAComments","LastArchived(UTC)","AOR State","AOR Changes","New AOR"]
extra_keys = ["planID","FILENAME","TIMESTAMP"]
data_units = {"AORID":"foreign","planID":"foreign","TIMESTAMP":"float"}
data_options = {"AORID":{"null":false,"index":true,
                         "primary_key":true,"backref":"aorsearch",
			 "model":"AOR","field":"aorID"},
	        "planID":{"index":true,"null":false,"backref":"aorsearch",
		          "model":"AOR","field":"planID"},
		"_ALL_":{"null":true}}
keys = %(data_keys)s + %(extra_keys)s


[SCT]
table_name = sct_tbl
data_keys = ["OBSMODE","PRIMARYARRAY","NODPATTERN","REWIND","OFFPOS","CHOPPHASE","DICHROIC",
             "ORDER","RED_LAMBDA","BLUE_LAMBDA","TRACKING","SCANDIST","RED_LINE","RED_OFFSET_TYPE",
	     "BLUE_LINE","BLUE_OFFSET_TYPE","BLUE_FILTER","PATTERN","RED_CAPACITOR","BLUE_CAPACITOR",
             "CHOPCOORD_SYSTEM","MAPCOORD_SYSTEM","OBSTYPE","SRCTYPE","INSTMODE","OBSID",
             "AORID","FILEGP_R","FILEGP_B","REDSHIFT","TARGET_NAME","TARGET_LAMBDA","TARGET_BETA",
             "SETPOINT","NODCYCLES","SPLITS","OFFPOS_LAMBDA","OFFPOS_BETA","OFFPOS_REDUC",
             "DITHMAP_LAMBDA","DITHMAP_BETA","DETANGLE","MAPLISTPATH","DITHMAP_NUMPOINTS",
	     "DITHMAP_STEPSIZE","CHOP_AMP","CHOP_POSANG","CHOP_MANUALPHASE","CHOP_LENGTH","RED_MICRON",
             "RED_OFFSET","RED_SIZEUP","RED_POSUP","RED_SIZEDOWN","RED_POSDOWN","RED_RAMPLEN",
             "RED_CHOPCYC","RED_GRTCYC","RED_ZBIAS","RED_BIASR","BLUE_MICRON","BLUE_OFFSET",
	     "BLUE_SIZEUP","BLUE_POSUP","BLUE_SIZEDOWN","BLUE_POSDOWN","BLUE_RAMPLEN","BLUE_CHOPCYC",
             "BLUE_GRTCYC","BLUE_ZBIAS","BLUE_BIASR","PROPID","OBSERVER","TIME_POINT"]
extra_keys = ["skey","rot_mapoffsets","TIMESTAMP","FILENAME"]
data_units = {"AORID":"foreign","PROPID":"foreign","TIMESTAMP":"float"}
data_options = {"skey":{"primary_key":true,"null":false,
                        "unique":true,"index":true},
                "AORID":{"index":true,"null":false,"backref":"sct",
		         "model":"AOR","field":"aorID"},
		"PROPID":{"index":true,"null":false,"backref":"sct",
		         "model":"AOR","field":"planID"},
                "FILENAME":{"index":true},
	        "_ALL_":{"null":true}}
keys = %(data_keys)s + %(extra_keys)s